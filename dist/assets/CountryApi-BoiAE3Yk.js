import{a as m}from"./vendor-BhB35ZXg.js";import{B as g,S as y}from"./index-CqEkO1RD.js";const $=async(o,c=0,r=10)=>await m({method:"get",url:`${g}/bookmystarsadmin/country/v1/list?pageNumber=${c}&pageSize=${r}`,headers:o}),b=async(o,c)=>{var r,l,u,d,i;try{const t=await m({method:"POST",url:`${g}/bookmystarsadmin/country/v1/create`,headers:c,data:o}),e=((r=t==null?void 0:t.data)==null?void 0:r.body)||(t==null?void 0:t.data),s=e==null?void 0:e.code,n=(e==null?void 0:e.message)||"Country added successfully",a=(e==null?void 0:e.error)||"An error occurred";s===200?y.fire("Success",n,"success"):s===400?y.fire("Error",a,"error"):y.fire("Success",n,"success")}catch(t){console.error("Error adding country:",t),console.error("Error response data:",(l=t==null?void 0:t.response)==null?void 0:l.data);let e="Failed to add country";if((u=t==null?void 0:t.response)!=null&&u.data){const s=t.response.data;e=s.message||s.error||((d=s.body)==null?void 0:d.message)||((i=s.body)==null?void 0:i.error)||(typeof s=="string"?s:e)}else t!=null&&t.message&&(e=t.message);y.fire("Error",e,"error")}},C=async(o,c)=>{var r,l,u,d,i;try{console.log("=== DELETE COUNTRY DEBUG ==="),console.log("Country ID to delete:",o),console.log("Headers:",c),console.log("Full URL:",`${g}/bookmystarsadmin/country/v1/${o}`);const t=await m({method:"DELETE",url:`${g}/bookmystarsadmin/country/v1/${o}`,headers:c});console.log("=== DELETE RESPONSE ==="),console.log("HTTP Status:",t.status),console.log("Response Data:",t.data);const e=((r=t==null?void 0:t.data)==null?void 0:r.body)||(t==null?void 0:t.data),s=(e==null?void 0:e.message)||"Country deleted successfully";return console.log("âœ… DELETE SUCCESS - Returning success result"),{success:!0,message:s}}catch(t){console.log("=== DELETE ERROR ==="),console.error("Error deleting country:",t),console.log("Error response:",t==null?void 0:t.response),console.log("Error status:",(l=t==null?void 0:t.response)==null?void 0:l.status),console.log("Error data:",(u=t==null?void 0:t.response)==null?void 0:u.data);const e=((i=(d=t==null?void 0:t.response)==null?void 0:d.data)==null?void 0:i.message)||(t==null?void 0:t.message)||"Failed to delete country";throw console.log("Final error message:",e),new Error(e)}},S=async(o,c)=>{try{console.log(`Fetching country with ID: ${o}`);const r=await m({method:"GET",url:`${g}/bookmystarsadmin/country/v1/${o}`,headers:c});return console.log("Get country by ID response:",r.data),r}catch(r){throw console.error(`Error fetching country with ID ${o}:`,r),r}},T=async(o,c)=>{var r,l,u,d,i,t;try{console.log("Attempting to update country with data:",o);const e=o.countryId,s={countryName:o.countryName,countryCode:o.countryCode,isActive:o.isActive,updatedBy:o.updatedBy};console.log("Sending update request to:",`${g}/bookmystarsadmin/country/v1/update/${e}`),console.log("Request data:",s);const n=await m({method:"PUT",url:`${g}/bookmystarsadmin/country/v1/update/${e}`,headers:c,data:s});console.log("Update API response:",n.data);const a=((r=n==null?void 0:n.data)==null?void 0:r.body)||(n==null?void 0:n.data),h=a==null?void 0:a.code,E=(a==null?void 0:a.message)||"Country updated successfully",f=(a==null?void 0:a.error)||"An error occurred";if(h===200||n.status===200)return{success:!0,message:E,data:a==null?void 0:a.data};if(h===400||n.status===400)throw new Error(f||"Update operation failed");if(n.status>=200&&n.status<300)return{success:!0,message:E,data:a==null?void 0:a.data};throw new Error(E||"Update operation failed")}catch(e){console.error("Error updating country:",e);let s="Failed to update country";throw((l=e==null?void 0:e.response)==null?void 0:l.status)===405?s="Update method not allowed. The server may not support this operation.":(d=(u=e==null?void 0:e.response)==null?void 0:u.data)!=null&&d.error?s=e.response.data.error:(t=(i=e==null?void 0:e.response)==null?void 0:i.data)!=null&&t.message?s=e.response.data.message:e!=null&&e.message&&(s=e.message),new Error(s)}},v=async o=>await m({method:"get",url:`${g}/bookmystarsadmin/country/v1/all`,headers:o});export{b as a,v as b,C as d,$ as f,S as g,T as u};
