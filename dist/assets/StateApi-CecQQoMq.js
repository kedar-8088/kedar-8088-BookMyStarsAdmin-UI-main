import{a as m}from"./vendor-BhB35ZXg.js";import{B as g,S as l}from"./index-CqEkO1RD.js";const y=async(o,i=0,c=10)=>{var n,s;try{if(!o||!o.Authorization)throw console.error("fetchStates - Missing or invalid headers:",o),new Error("Authentication headers are required");const t=Math.max(0,parseInt(i)||0),a=Math.max(1,parseInt(c)||10),e=`${g}/bookmystarsadmin/state/v1/list?pageNumber=${t}&pageSize=${a}`;console.log("Fetch States Request:",{url:e,pageNumber:t,pageSize:a,hasAuth:!!o.Authorization});const r=await m({method:"get",url:e,headers:o});console.log("Fetch States Response:",r==null?void 0:r.data);const u=r==null?void 0:r.data;if(u){const d=u.data;d&&Array.isArray(d.states)?console.log(`Fetched ${d.states.length} states (total: ${d.totalCount})`):d&&d.totalCount===0&&console.log("No states found in database")}return r}catch(t){throw console.error("Error fetching states:",t),console.error("Error response:",(n=t==null?void 0:t.response)==null?void 0:n.data),console.error("Error status:",(s=t==null?void 0:t.response)==null?void 0:s.status),t}},E=async(o,i)=>{var c,n,s;try{console.log("Request data:",o);const t={stateName:o.stateName,stateCode:o.stateCode.toUpperCase(),countryId:parseInt(o.countryId,10),isActive:!!o.isActive,createdBy:o.insertedBy};console.log("Formatted request data:",t);const a=await m({method:"POST",url:`${g}/bookmystarsadmin/state/v1/create`,headers:i,data:t}),e=((c=a==null?void 0:a.data)==null?void 0:c.body)||(a==null?void 0:a.data),r=e==null?void 0:e.code,u=(e==null?void 0:e.message)||"State created successfully",d=(e==null?void 0:e.error)||"An error occurred";r===200?l.fire("Success",u,"success"):r===400?l.fire("Error",d,"error"):l.fire("Success",u,"success")}catch(t){console.error("Error adding state:",t);const a=((s=(n=t==null?void 0:t.response)==null?void 0:n.data)==null?void 0:s.message)||(t==null?void 0:t.message)||"Failed to add state";l.fire("Error",a,"error")}},v=async(o,i)=>{var c,n,s;try{const t=await m({method:"DELETE",url:`${g}/bookmystarsadmin/state/v1/${o}`,headers:i}),a=((c=t==null?void 0:t.data)==null?void 0:c.body)||(t==null?void 0:t.data),e=a==null?void 0:a.code,r=(a==null?void 0:a.message)||"State deleted successfully",u=(a==null?void 0:a.error)||"An error occurred";e===200?l.fire("Deleted!",r,"success"):e===400?l.fire("Error",u,"error"):l.fire("Deleted!",r,"success")}catch(t){console.error("Error deleting state:",t);const a=((s=(n=t==null?void 0:t.response)==null?void 0:n.data)==null?void 0:s.message)||(t==null?void 0:t.message)||"Failed to delete state";l.fire("Error",a,"error")}},b=async(o,i)=>{try{console.log("Fetching state details for ID:",o);const c=await m({method:"GET",url:`${g}/bookmystarsadmin/state/v1/${o}`,headers:i});return console.log("State details response:",c.data),c}catch(c){throw console.error("Error in getStateById:",c.response||c),c}},p=async(o,i)=>{var c,n,s,t,a;try{const e=await m({method:"PUT",url:`${g}/bookmystarsadmin/state/v1/update/${o.stateId}`,headers:i,data:o}),r=((c=e==null?void 0:e.data)==null?void 0:c.body)||(e==null?void 0:e.data),u=r==null?void 0:r.code,d=(r==null?void 0:r.message)||"State updated successfully",f=(r==null?void 0:r.error)||"An error occurred";u===200?l.fire("Success",d,"success"):u===400?l.fire("Error",f,"error"):l.fire("Success",d,"success")}catch(e){console.error("Error updating state:",e);let r="Failed to update state";(s=(n=e==null?void 0:e.response)==null?void 0:n.data)!=null&&s.error?r=e.response.data.error:(a=(t=e==null?void 0:e.response)==null?void 0:t.data)!=null&&a.message?r=e.response.data.message:e!=null&&e.message&&(r=e.message),l.fire("Error",r,"error")}},$=async o=>{var i,c,n;try{if(!o||!o.Authorization)throw console.error("getAllStates - Missing or invalid headers:",o),new Error("Authentication headers are required");console.log("Fetching all states from:",`${g}/bookmystarsadmin/state/v1/all`);const s=await m({method:"get",url:`${g}/bookmystarsadmin/state/v1/all`,headers:o});console.log("getAllStates response:",s==null?void 0:s.data);const t=s==null?void 0:s.data;return t&&t.code===200&&Array.isArray(t.data)?console.log(`Fetched ${t.data.length} states`):t&&t.code===200&&((i=t.data)==null?void 0:i.length)===0&&console.log("No states found in database"),s}catch(s){throw console.error("Error fetching all states:",s),console.error("Error response:",(c=s==null?void 0:s.response)==null?void 0:c.data),console.error("Error status:",(n=s==null?void 0:s.response)==null?void 0:n.status),s}},w=async(o,i)=>{var c,n,s;try{const t=await m({method:"PUT",url:`${g}/bookmystarsadmin/state/v1/${o}/activate`,headers:i}),a=((c=t==null?void 0:t.data)==null?void 0:c.body)||(t==null?void 0:t.data),e=(a==null?void 0:a.message)||"State activated successfully";return l.fire("Success",e,"success"),t}catch(t){console.error("Error activating state:",t);const a=((s=(n=t==null?void 0:t.response)==null?void 0:n.data)==null?void 0:s.message)||(t==null?void 0:t.message)||"Failed to activate state";throw l.fire("Error",a,"error"),t}},A=async(o,i)=>{var c,n,s;try{const t=await m({method:"PUT",url:`${g}/bookmystarsadmin/state/v1/${o}/deactivate`,headers:i}),a=((c=t==null?void 0:t.data)==null?void 0:c.body)||(t==null?void 0:t.data),e=(a==null?void 0:a.message)||"State deactivated successfully";return l.fire("Success",e,"success"),t}catch(t){console.error("Error deactivating state:",t);const a=((s=(n=t==null?void 0:t.response)==null?void 0:n.data)==null?void 0:s.message)||(t==null?void 0:t.message)||"Failed to deactivate state";throw l.fire("Error",a,"error"),t}};export{E as a,b,A as c,v as d,w as e,y as f,$ as g,p as u};
